<div class="container-fluid" id="main">
  <div class="row h-100">
    <div class="col-12 mh-100">
        <div class="row bg-white h-100 no-gutters">
            <div class="col-3 col-outer" style="padding-right: 5px;">
              <div class="col-inner bg-grey h-100 border border-dark d-flex align-items-center flex-column">
                <div class="d-flex flex-column">
                  <button *ngIf="shared.analysisSuccess" class="btn btn-danger" (click)="showErrors = !showErrors">Errors</button>
                  <!-- <button class="btn btn-warning" (click)="showErrors = false; showWarnings = true">Warnings</button> -->
                </div>
                <!-- <div style="padding-left: 10px;"  *ngIf="shared.analysisSuccess" name="ExtraInfo" >
                  <h4 style="text-align: center;">Summary</h4>
                1.Input File: {{logFile}}<br/>
                  2.Execution Time: {{timeExec}}<br/>
                  3.Process Name: {{techstachSelected}}<br/>
                  4.Error Count: {{errorCnt}}<br/>
                  5.Warrning count: {{warningCnt}}<br/>
                  6.Unique Error Count: {{uniqueErrorCnt}}<br/>
                  7.Unique Warrning count: {{uniqueWarningCnt}}<br/>
                  8.Output File: {{outputCSVFile}}<br/>
              </div> -->
                <button class="btn btn-primary" [disabled]="!shared.analysisSuccess" (click)="downloadLog()">Download Logs</button>
              </div>
            </div>
            <div class="col-9 h-100 col-outer" style="padding-left: 5px;">
              <div class="col-inner bg-grey h-100">
                <div class="row h-100 no-gutters">
                  <div class="col-12 mh-100 border border-right-0 border-dark">
                    <div class="row no-gutters" style="height: 40px;" *ngIf="showErrors">
                      <div class="col-5">
                        <b class="pl-2 pt-2">Error</b>
                      </div>
                      <div class="col-2">
                          <b class="pl-2 pt-2">Line</b>
                        </div>
                      <div class="col-5 d-flex justify-content-between">
                        <b class="pl-2 pt-2">Remediation</b>
                        <button class="btn btn-primary btn-sm mt-1 mr-1" (click)="status()">submit</button>
                      </div>
                    </div>
                    <div class="row no-gutters" style="height:calc(100% - 40px);">
                      <div class="col-12 h-100" [ngClass]="{'d-flex align-items-center justify-content-center': !shared.analysisSuccess}" [ngStyle]="{'overflow-y': shared.analysisSuccess&&showErrors?'scroll':''}">
                          <div *ngIf="!showErrors" class="container summary h-100 justify-content-center flex-column d-flex">
                            <div class="row d-flex justify-content-between mt-2">
                              <div class="col-4 text-center">
                                <i class="fas fa-file-import fs-32"></i><br>
                                {{logFile}}
                              </div>
                              <div class="col-3">
                                <h4 class="text-center"><i class="fas fa-calendar-check fs-32"></i></h4>
                                <h5>{{timeExec}}</h5>
                              </div>
                              <div class="col-4 text-center">
                                <i class="fas fa-file-export fs-32"></i><br>
                                {{outputCSVFile}}
                              </div>
                            </div>
                            <div class="row justify-content-center" style="margin-top: 100px;">
                              <div class="col-12">
                                <h4 class="text-center"><i class="fas fa-poll fs-32"></i> Statistics</h4>
                              </div>
                            </div>
                            <div class="row justify-content-between mt-3">
                              <div class="col-3 text-center">
                                <h6>Error Count</h6>
                                <h4>{{errorCnt}}</h4>
                              </div>
                              <div class="col-3 text-center">
                                <h6>Warning Count</h6>
                                <h4>{{warningCnt}}</h4>
                              </div>
                              <div class="col-3 text-center">
                                <h6>Unique Error Count</h6>
                                <h4>{{uniqueErrorCnt}}</h4>
                              </div>
                              <div class="col-3 text-center">
                                <h6>Unique Warnings Count</h6>
                                <h4>{{uniqueWarningCnt}}</h4>
                              </div>
                            </div>
                          </div>
                          <h4 *ngIf="!shared.analysisSuccess">Error occured while analyzing</h4>
                          <table class="table"  *ngIf="showErrors">
                            <tbody>
                              <tr *ngFor="let error of errors">
                                <td style="width: 41.6%">{{error.Error_Summary}}</td>
                                <td style="width: 16%;">{{error.Line_Numbers}}</td>
                                <td style="width: 41.6%">
                                    <p>
                                      <input type="checkbox" (change)="chkval($event)" (ngModelChange)="onChange(officeLIST)"/>
                                      {{error.Remediation}}
                                    </p>

                                  <!-- <p *ngFor="let remedy of error.Remediation">
                                    <input type="checkbox" (change)="chkval($event)" (ngModelChange)="onChange(officeLIST)"/>
                                    {{remedy}}
                                  </p> -->
                                </td>
                              </tr>
                            </tbody>
                          </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

    </div>
  </div>
</div>
